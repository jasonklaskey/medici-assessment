# Network Diagram - Medici Assessment

## AWS Infrastructure Network Architecture

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                                                                               │
│                          AWS Region: eu-west-1                              │
│                                                                               │
│  ┌──────────────────────────────────────────────────────────────────────┐   │
│  │                     VPC: 10.0.0.0/16                                 │   │
│  │                                                                       │   │
│  │  ┌────────────────────────────────────────────────────────────────┐  │   │
│  │  │                    Internet Gateway                             │  │   │
│  │  │                    (IGW)                                        │  │   │
│  │  └────────────────────────────────────────────────────────────────┘  │   │
│  │                              │                                        │   │
│  │                              ▼                                        │   │
│  │  ┌────────────────────────────────────────────────────────────────┐  │   │
│  │  │                    PUBLIC SUBNETS                              │  │   │
│  │  │                                                                │  │   │
│  │  │  ┌──────────────────────┐    ┌──────────────────────┐        │  │   │
│  │  │  │  Public Subnet 1     │    │  Public Subnet 2     │        │  │   │
│  │  │  │  10.0.1.0/24         │    │  10.0.2.0/24         │        │  │   │
│  │  │  │  AZ: eu-west-1a      │    │  AZ: eu-west-1b      │        │  │   │
│  │  │  │                      │    │                      │        │  │   │
│  │  │  │  ┌────────────────┐  │    │  ┌────────────────┐  │        │  │   │
│  │  │  │  │   EC2 Instance │  │    │  │  (Standby)     │  │        │  │   │
│  │  │  │  │   t3.micro     │  │    │  │                │  │        │  │   │
│  │  │  │  │ 10.0.1.80      │  │    │  │                │  │        │  │   │
│  │  │  │  │                │  │    │  │                │  │        │  │   │
│  │  │  │  │ ┌────────────┐ │  │    │  │                │  │        │  │   │
│  │  │  │  │ │   Docker   │ │  │    │  │                │  │        │  │   │
│  │  │  │  │ │   Nginx    │ │  │    │  │                │  │        │  │   │
│  │  │  │  │ │ Port: 80   │ │  │    │  │                │  │        │  │   │
│  │  │  │  │ └────────────┘ │  │    │  │                │  │        │  │   │
│  │  │  │  └────────────────┘  │    │  └────────────────┘  │        │  │   │
│  │  │  └──────────────────────┘    └──────────────────────┘        │  │   │
│  │  │                                                                │  │   │
│  │  └────────────────────────────────────────────────────────────────┘  │   │
│  │                              │                                        │   │
│  │                              ▼                                        │   │
│  │  ┌────────────────────────────────────────────────────────────────┐  │   │
│  │  │                    NAT GATEWAY                                 │  │   │
│  │  │              (For Private Subnet Access)                       │  │   │
│  │  └────────────────────────────────────────────────────────────────┘  │   │
│  │                              │                                        │   │
│  │                              ▼                                        │   │
│  │  ┌────────────────────────────────────────────────────────────────┐  │   │
│  │  │                    PRIVATE SUBNETS                             │  │   │
│  │  │                                                                │  │   │
│  │  │  ┌──────────────────────┐    ┌──────────────────────┐        │  │   │
│  │  │  │ Private Subnet 1     │    │ Private Subnet 2     │        │  │   │
│  │  │  │ 10.0.10.0/24         │    │ 10.0.11.0/24         │        │  │   │
│  │  │  │ AZ: eu-west-1a       │    │ AZ: eu-west-1b       │        │  │   │
│  │  │  │                      │    │                      │        │  │   │
│  │  │  │ ┌────────────────┐   │    │ ┌────────────────┐   │        │  │   │
│  │  │  │ │  RDS MySQL     │   │    │ │  RDS MySQL     │   │        │  │   │
│  │  │  │ │  Primary       │   │    │ │  Standby       │   │        │  │   │
│  │  │  │ │  db.t3.micro   │   │    │ │  (Multi-AZ)    │   │        │  │   │
│  │  │  │ │  Port: 3306    │   │    │ │                │   │        │  │   │
│  │  │  │ │  devopsdb      │   │    │ │                │   │        │  │   │
│  │  │  │ └────────────────┘   │    │ └────────────────┘   │        │  │   │
│  │  │  └──────────────────────┘    └──────────────────────┘        │  │   │
│  │  │                                                                │  │   │
│  │  └────────────────────────────────────────────────────────────────┘  │   │
│  │                                                                       │   │
│  └──────────────────────────────────────────────────────────────────────┘   │
│                                                                               │
└─────────────────────────────────────────────────────────────────────────────┘

                                    │
                                    ▼
                    ┌───────────────────────────┐
                    │   ECR Repository          │
                    │   medici-assessment-ecr   │
                    │   (Container Images)      │
                    └───────────────────────────┘
```

## Security Groups Configuration

### EC2 Security Group

Inbound Rules:
- HTTP (80) from 0.0.0.0/0
- HTTPS (443) from 0.0.0.0/0
- SSH (22) from 0.0.0.0/0

Outbound Rules:
- All Traffic to 0.0.0.0/0

### RDS Security Group

Inbound Rules:
- MySQL (3306) from EC2 Security Group

Outbound Rules:
- All Traffic to 0.0.0.0/0

## Data Flow

GitHub → GitHub Actions → ECR → EC2 → Docker Container → RDS Database

## High Availability

- Multi-AZ RDS with automatic failover
- Automated backups with 7-day retention
- Health monitoring and alerts
